<div class="row">
	<div class="col-md-12">		
		<div class="panel panel-default">
			<ul class="nav nav-tabs">
				<li ng-class="{true: 'active'}[activeTab === 'existing-player' || !activeTab]">
					<a ng-click="activeTab = 'existing-player'" ui-sref="tournament.register.existing-player">Eksisterende spiller</a>
				</li>
				<li ng-class="{true: 'active'}[activeTab === 'new-player']">
					<a ng-click="activeTab = 'new-player'" ui-sref="tournament.register.new-player">Ny spiller</a>
				</li>
			</ul>
			<div class="panel">
				<div class="tab-content">
					<div class="tab-pane" 
						 id="existing_player"
						 ng-class="{true: 'active'}[activeTab === 'existing_player' || !activeTab]">
					</div>
					
					<div class="panel panel-body" ng-switch="registerIndividualTab">
						<div ng-switch-when="existingPlayer">
							<div ng-include="'templates/partials/regform.individual.existingplayer.html'"></div>
						</div>
						<div ng-switch-when="newPlayer">
							<div ng-include="'templates/partials/regform.individual.newplayer.html'"></div>
						</div>
						<div ng-switch-default>
							Vennligst velg en turnering.
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="bg-success" ng-show="regform.success == true"><p>{{regform.player.player}} er nå registrert til {{regform.subtournament.name}}!</p><p>Vær oppmerksom på at det kan ta noen minutter før nettsiden blir oppdatert.</p></div>
	<div class="bg-danger" ng-show="regform.success == false"><p>Noe gikk galt! Er spilleren allerede registrert? Det kan ta noen minutter før spillerlistene blir oppdatert. Vedvarer problemet kan turneringsansvarlig kontaktes.</p>
	<p>(Error: {{regform.error}})</p></div>
<form class="form-horizontal" role="form" ng-submit="registerIthfPlayer(regform)">
	<div class="form-group" ng-hide="tournament.subtournaments.length <= 1">
		<label class="col-sm-2 control-label">Velg turnering:</label>
		<div class="col-sm-10">
			<select 
				class="form-control"
				ng-model="regform.subtournament"
				ng-options="subtour as subtour.name for subtour in tournament.subtournaments">
			</select>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">Søk på navn:</label>
		<div class="col-sm-10">
			<input type="text" class="form-control" ng-model="regform.namequery" id="namesearch" placeholder="Spillernavn" />
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">Velg ITHF spiller:</label>
		<div class="col-sm-10">
			<select 
				id="selectbox" 
				class="form-control" 
				size="5" 
				style="width:100%;" 
				ng-model="regform.player"
				ng-options="player as (player.player + ' (' + player.rank + ')') for player in regform.players"></select>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-12"></div>
			<button type="submit" ng-show="regform.player && regform.subtournament" class="btn btn-lg btn-success center-block">Registrer som {{regform.player.player}}</button>
	</div>
</form>